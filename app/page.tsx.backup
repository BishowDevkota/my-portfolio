import Link from "next/link";
import { Navbar } from "@/components/navbar";
import { SectionTitle } from "@/components/section-title";
import { ProjectCard } from "@/components/project-card";
import { BlogCard } from "@/components/blog-card";
import { AnimatedSection } from "@/components/animated-section";
import { getBlogs, getProjects } from "@/lib/data";

export const dynamic = "force-dynamic";

const skills = [
  "TypeScript",
  "Next.js",
  "Node.js",
  "MongoDB",
  "Mongoose",
  "Tailwind CSS",
  "JWT Auth",
  "REST API",
];

export default async function Home() {
  const [projects, blogs] = await Promise.all([getProjects(3), getBlogs(3)]);

  return (
    <div className="min-h-screen bg-black text-zinc-100 light:bg-zinc-50 light:text-zinc-900">
      <Navbar />

      <main className="mx-auto max-w-6xl px-4 pb-20 sm:px-6">
        <AnimatedSection className="flex min-h-[80vh] flex-col justify-center border-b border-zinc-900 py-16 light:border-zinc-200">
          <p className="mb-4 text-xs uppercase tracking-[0.3em] text-zinc-500">Full-Stack Developer</p>
          <h1 className="max-w-3xl text-4xl font-semibold leading-tight sm:text-6xl">
            Building scalable web products with clean architecture and delightful UX.
          </h1>
          <p className="mt-6 max-w-2xl text-base text-zinc-400 light:text-zinc-600">
            I design and ship performant full-stack applications using Next.js, TypeScript, MongoDB, and modern frontend tooling.
          </p>
          <div className="mt-8 flex flex-wrap gap-3">
            <Link href="/projects" className="rounded border border-zinc-700 px-4 py-2 text-sm transition hover:border-zinc-500 light:border-zinc-300">
              View Projects
            </Link>
            <Link href="/contact" className="rounded bg-zinc-100 px-4 py-2 text-sm text-zinc-900 transition hover:bg-zinc-300 light:bg-zinc-900 light:text-zinc-100 light:hover:bg-zinc-700">
              Contact Me
            </Link>
            <Link href="/about" className="rounded border border-zinc-700 px-4 py-2 text-sm transition hover:border-zinc-500 light:border-zinc-300">
              About Me
            </Link>
          </div>
        </AnimatedSection>

        <AnimatedSection className="border-b border-zinc-900 py-16 light:border-zinc-200" delay={0.05}>
          <SectionTitle title="About Me" subtitle="Who I Am" />
          <p className="max-w-3xl text-zinc-400 light:text-zinc-600">
            I focus on delivering secure, maintainable, and high-performing web applications. My workflow combines product thinking, backend reliability, and a minimal frontend design language.
          </p>
        </AnimatedSection>

        <AnimatedSection className="border-b border-zinc-900 py-16 light:border-zinc-200" delay={0.1}>
          <SectionTitle title="Skills" subtitle="Tech Stack" />
          <div className="flex flex-wrap gap-3">
            {skills.map((skill) => (
              <span key={skill} className="rounded-full border border-zinc-700 px-3 py-1 text-sm text-zinc-300 light:border-zinc-300 light:text-zinc-700">
                {skill}
              </span>
            ))}
          </div>
          <Link href="/skills" className="mt-6 inline-flex text-sm text-zinc-300 hover:underline light:text-zinc-600">
            View full skills page
          </Link>
        </AnimatedSection>

        <AnimatedSection className="border-b border-zinc-900 py-16 light:border-zinc-200" delay={0.15}>
          <div className="mb-8 flex items-center justify-between">
            <SectionTitle title="Projects" subtitle="Featured Work" />
            <Link href="/projects" className="text-sm text-zinc-300 hover:underline light:text-zinc-600">See all</Link>
          </div>
          <div className="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
            {projects.map((project) => (
              <ProjectCard key={project._id} project={project} />
            ))}
          </div>
        </AnimatedSection>

        <AnimatedSection className="border-b border-zinc-900 py-16 light:border-zinc-200" delay={0.2}>
          <div className="mb-8 flex items-center justify-between">
            <SectionTitle title="Blog" subtitle="Latest Articles" />
            <Link href="/blog" className="text-sm text-zinc-300 hover:underline light:text-zinc-600">See all</Link>
          </div>
          <div className="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
            {blogs.map((blog) => (
              <BlogCard key={blog._id} blog={blog} />
            ))}
          </div>
        </AnimatedSection>

        <AnimatedSection className="py-16" delay={0.25}>
          <SectionTitle title="Contact" subtitle="Let’s Connect" />
          <p className="text-zinc-400 light:text-zinc-600">Open to freelance, contract, and full-time opportunities.</p>
          <div className="mt-4 flex flex-wrap gap-3">
            <a href="mailto:hello@portfolio.dev" className="rounded border border-zinc-700 px-4 py-2 text-sm light:border-zinc-300">hello@portfolio.dev</a>
            <a href="https://github.com" target="_blank" className="rounded border border-zinc-700 px-4 py-2 text-sm light:border-zinc-300">GitHub</a>
            <a href="https://linkedin.com" target="_blank" className="rounded border border-zinc-700 px-4 py-2 text-sm light:border-zinc-300">LinkedIn</a>
          </div>
        </AnimatedSection>
      </main>

      <footer className="border-t border-zinc-900 py-6 text-center text-sm text-zinc-500 light:border-zinc-200">
        © {new Date().getFullYear()} Developer Portfolio. All rights reserved.
      </footer>
    </div>
  );
}
